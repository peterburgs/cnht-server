Project Cungnhauhoctoan {
  database_type: 'MySQL'
}


enum USER_ROLES {
  ADMIN
  LEARNER
}

enum STATUSES {
  PENDING
  APPROVED
  DENIED
}

enum COURSE_TYPE {
  THEORY
  EXAMINATION_SOLVING
}

enum GRADES{
  12
  11
  10
  
}

Table enrollment {
  learner_id VARCHAR(255) [ref: > user.id]
  course_id VARCHAR(255) [ref: > course.id]
  created_at TIMESTAMP
  updated_at TIMESTAMP
}

Table deposit_request {
  learner_id VARCHAR(255) [ref: > user.id]
  amount FLOAT
  image_url TEXT
  created_at TIMESTAMP
  updated_at TIMESTAMP
  status STATUSES
}

Table user {
  id VARCHAR(255) [pk]
  email VARCHAR(255) [unique, not null]
  role USER_ROLES
  balance FLOAT
  created_at TIMESTAMP
  updated_at TIMESTAMP
  is_hidden BOOLEAN
}


Table course {
  id VARCHAR(255) [pk]
  title TEXT [not null]
  description TEXT
  price FLOAT [not null]
  type COURSE_TYPES
  grade GRADES
  thumbnail_url TEXT
  created_at TIMESTAMP
  updated_at TIMESTAMP
  is_hidden BOOLEAN
}

Table section {
  id VARCHAR(255) [pk]
  title TEXT
  course_id VARCHAR(255) [ref: > course.id]
  order INT
  created_at TIMESTAMP
  updated_at TIMESTAMP
  is_hidden BOOLEAN
}

Table lecture {
  id VARCHAR(255) [pk]
  title TEXT [not null]
  section_id VARCHAR(255) [ref: > section.id]
  order INT
  created_at TIMESTAMP
  updated_at TIMESTAMP
  id_hidden BOOLEAN
}

Table video {
  id VARCHAR(255) [pk]
  file_name TEXT [not null]
  length INT 
  lecture_id VARCHAR(255) [ref: - lecture.id]
  created_at TIMESTAMP
  updated_at TIMESTAMP
  is_hidden BOOLEAN
}

Table comment {
  id VARCHAR(255) [pk]
  text TEXT [not null]
  parent_id VARCHAR(255) [ref: > comment.id]
  user_id VARCHAR(255) [ref: > user.id]
  lecture_id VARCHAR(255) [ref: > lecture.id]
  created_at TIMESTAMP
  updated_at TIMESTAMP
  is_hidden BOOLEAN
}